import{f as I,U as c,K as Z,o as q,i as T,L as U,a as m,c as u,e as t,b as i,y as h,u as e,aF as Q,_ as b,$ as C,P as V,T as E,aG as F,aa as tt,ab as W,ac as et,aw as st,a8 as at,aH as nt,ay as it,t as r,N as G,O,aI as lt,l as j,F as M,r as ot,n as P,aJ as dt,p as Y}from"./vendor.82e95389.js";import{P as X}from"./index.d8b81aca.js";const rt={"aria-live":"assertive",class:"z-40 pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:items-start sm:p-6"},ct={class:"flex w-full flex-col items-center space-y-4 sm:items-end"},mt={key:0,class:"pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"},ut={class:"p-4"},gt={class:"flex items-start"},xt={class:"flex-shrink-0"},pt=t("div",{class:"ml-3 w-0 flex-1 pt-0.5"},[t("p",{class:"text-sm font-medium text-gray-900"},"Success"),t("p",{class:"mt-1 text-sm text-gray-500"},"Du hast das Training erfolgreich ge\xE4ndert.")],-1),ft={class:"ml-4 flex flex-shrink-0"},ht=t("span",{class:"sr-only"},"Close",-1),_t={"aria-live":"assertive",class:"z-40 pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:items-start sm:p-6"},vt={class:"flex w-full flex-col items-center space-y-4 sm:items-end"},yt={key:0,class:"pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"},wt={class:"p-4"},bt={class:"flex items-start"},$t={class:"flex-shrink-0"},kt=t("div",{class:"ml-3 w-0 flex-1 pt-0.5"},[t("p",{class:"text-sm font-medium text-gray-900"},"Achtung"),t("p",{class:"mt-1 text-sm text-gray-500"}," Du kannst die Anwesenheit nicht \xE4ndern, das Training hat noch nicht begonnen. ")],-1),Tt={class:"ml-4 flex flex-shrink-0"},Ct=t("span",{class:"sr-only"},"Close",-1),Dt={"aria-live":"assertive",class:"z-40 pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:items-start sm:p-6"},St={class:"flex w-full flex-col items-center space-y-4 sm:items-end"},zt={key:0,class:"pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"},Vt={class:"p-4"},At={class:"flex items-start"},Lt={class:"flex-shrink-0"},Ut=t("div",{class:"ml-3 w-0 flex-1 pt-0.5"},[t("p",{class:"text-sm font-medium text-gray-900"},"Fehler"),t("p",{class:"mt-1 text-sm text-gray-500"}," Es gab leider einen Fehler beim \xE4ndern der Anwesenheit. ")],-1),Et={class:"ml-4 flex flex-shrink-0"},Ht=t("span",{class:"sr-only"},"Close",-1),Nt=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),jt={class:"fixed inset-0 z-10 overflow-y-auto"},Bt={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Ft={class:"sm:flex sm:items-start"},Mt={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},It={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Pt=P("Training l\xF6schen"),Rt=t("div",{class:"mt-2"},[t("p",{class:"text-sm text-gray-500"}," Wenn du das Training l\xF6scht, kann dieses nicht wiederhergestellt werde. ")],-1),Jt={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},Kt={class:"mx-auto max-w-screen-xl px-4 pb-6 sm:px-6 lg:px-8 lg:pb-16 mt-5"},Wt={class:"overflow-hidden rounded-lg bg-white"},Gt={class:"divide-y divide-gray-200 lg:grid lg:grid-cols-12 lg:divide-y-0 lg:divide-x"},Ot={class:"divide-y divide-gray-200 lg:col-span-12 flex flex-col justify-center"},Yt={key:0,class:"overflow-hidden bg-white shadow sm:rounded-lg col-span-full mx-3 my-3"},qt={class:"sm:flex sm:items-center"},Qt=t("div",{class:"sm:flex-auto p-4"},[t("h1",{class:"text-xl font-semibold text-gray-900"},"Trainings Info"),t("p",{class:"mt-2 text-sm text-gray-700"}," Hier siehst du alle Informationen zu diesem Training ")],-1),Xt={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none p-4"},Zt=P(" Bearbeiten "),te=P(" L\xF6schen "),ee={class:"border-t border-gray-200 px-4 py-5 sm:p-0"},se={class:"sm:divide-y sm:divide-gray-200"},ae={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},ne=t("dt",{class:"text-sm font-medium text-gray-500"},"Titel",-1),ie={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},le={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},oe=t("dt",{class:"text-sm font-medium text-gray-500"},"Datum",-1),de={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},re={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},ce=t("dt",{class:"text-sm font-medium text-gray-500"},"Treffpunkt:",-1),me={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ue={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},ge=t("dt",{class:"text-sm font-medium text-gray-500"},"Start:",-1),xe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},pe={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},fe=t("dt",{class:"text-sm font-medium text-gray-500"},"Ende:",-1),he={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},_e={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},ve=t("dt",{class:"text-sm font-medium text-gray-500"},"Halle:",-1),ye={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},we={key:1,class:"overflow-hidden bg-white shadow sm:rounded-lg col-span-full mx-3 my-3"},be={class:"sm:flex sm:items-center"},$e=t("div",{class:"sm:flex-auto p-4"},[t("h1",{class:"text-xl font-semibold text-gray-900"},"Trainings Info"),t("p",{class:"mt-2 text-sm text-gray-700"}," Hier siehst du alle Informationen zu diesem Training ")],-1),ke={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none p-4"},Te={class:"border-t border-gray-200 px-4 py-5 sm:p-0"},Ce={class:"sm:divide-y sm:divide-gray-200"},De={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},Se=t("dt",{class:"text-sm font-medium text-gray-500"},"Titel",-1),ze={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Ve={class:"mt-1"},Ae={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},Le=t("dt",{class:"text-sm font-medium text-gray-500"},"Datum",-1),Ue={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Ee={class:"mt-1"},He={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},Ne=t("dt",{class:"text-sm font-medium text-gray-500"},"Treffpunkt:",-1),je={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Be={class:"mt-1"},Fe={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},Me=t("dt",{class:"text-sm font-medium text-gray-500"},"Start:",-1),Ie={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Pe={class:"mt-1"},Re={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},Je=t("dt",{class:"text-sm font-medium text-gray-500"},"Ende:",-1),Ke={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},We={class:"mt-1"},Ge={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},Oe=t("dt",{class:"text-sm font-medium text-gray-500"},"Halle:",-1),Ye={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},qe={class:"mt-1"},Qe={class:"max-w-screen-xl px-4pb-6 sm:px-6 lg:px-10 lg:pb-16 mt-5 mx-auto"},Xe=t("h3",{class:"text-xl font-bold leading-6 text-gray-900"},"Statistik zum Training",-1),Ze={class:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3"},ts={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},es=t("dt",{class:"truncate text-sm font-medium text-gray-500"},"Anzahl an Spielern",-1),ss={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},as={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},ns=t("dt",{class:"truncate text-sm font-medium text-gray-500"},"Anzahl an Spielern (%)",-1),is={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},ls={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},os=t("dt",{class:"truncate text-sm font-medium text-gray-500"},"Fehlende Spieler",-1),ds={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},rs={class:"max-w-screen-xl px-4pb-6 sm:px-6 lg:px-10 lg:pb-16 mt-5 mx-auto"},cs=t("h1",{class:"text-xl font-bold"},"Anwesenheit:",-1),ms={class:"mt-8 flex flex-col"},us={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},gs={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},xs={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},ps={class:"min-w-full divide-y divide-gray-300 mx-3"},fs=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Name "),t("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Kommt ")])],-1),hs={class:"divide-y divide-gray-200 bg-white"},_s={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6"},vs={class:"flex items-center"},ys={class:"h-10 w-10 flex-shrink-0"},ws=["src"],bs={class:"ml-4"},$s={class:"font-medium text-gray-900"},ks={class:"text-gray-500"},Ts={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},Cs=["onClick"],Ds=["onClick"],Ss={setup(R){const D=I(),$=D.currentRoute.value.params.id,d=c({}),l=c([]);let _=c(!1),p=c(!1),v=c(!1),S=c(!1),g=c(!1),x=c(!1),o=Z({titel:"",datum:null,treffpunkt:null,start:null,ende:null,halle:""});q(async()=>{const{data:n}=await T.get(`/getTrainingDetail/${$}`);d.value=n[0],o.titel=d.value.titel,o.datum=d.value.trainingdatum,o.halle=d.value.wo;let s={hours:d.value.trainingtreffpunkt.split(":")[0],minutes:d.value.trainingtreffpunkt.split(":")[1]},a={hours:d.value.trainingbeginn.split(":")[0],minutes:d.value.trainingbeginn.split(":")[1]},z={hours:d.value.trainingende.split(":")[0],minutes:d.value.trainingende.split(":")[1]};o.treffpunkt=s,o.start=a,o.ende=z;const{data:L}=await T.get(`/getTrainingDetailSpieler/${$}`);l.value=L;const J=new Date;let K=`${J.getHours()}:${J.getMinutes()}`;K>d.value.trainingbeginn&&K<d.value.trainingende?S.value=!0:S.value=!1});async function A(n,s){if(S.value){l.value.forEach(a=>{a.s_id==s&&(a.kommt=n)});try{await T.patch(`changeAnwesenheit/${$}/${s}`,{kommt:n})}catch(a){a.value=!0,setTimeout(()=>a.value=!1,3e3),console.log(a)}}else _.value=!0,setTimeout(()=>_.value=!1,3e3),console.log("Darf nicht \xE4ndern, das Training hat noch nd begonnen")}async function H(){try{const n=new Date(o.datum);n.setHours(12),o.datum=n,console.log(o),await T.patch(`/changeTraining/${$}`,{state:o}),v.value=!0,g.value=!1,setTimeout(()=>v.value=!1,3e3),window.location.reload()}catch(n){console.log(n)}}async function B(){try{const n=await T.delete(`/delTraining/${$}`);D.go(-1)}catch(n){console.log(n)}}const N=U(()=>{let n=new Date(d.value.trainingdatum),s=n.getDate(),a=n.toLocaleString("de-de",{weekday:"long"}),z=n.toLocaleString("de-de",{month:"long"}),L=n.toLocaleString("de-de",{year:"numeric"});return`${a}, ${s}. ${z} ${L}`});let f=U(()=>{let n=0;return l.value.forEach(s=>{s.kommt&&(n+=1)}),n}),y=U(()=>{let n=0;return l.value.forEach(s=>{s.kommt&&(n+=1)}),Math.floor(n/l.value.length*100)}),w=U(()=>{let n=0;return l.value.forEach(s=>{s.kommt||(n+=1)}),n});const k=n=>{const s=n.getDate(),a=n.getMonth()+1,z=n.getFullYear();return`${s}.${a}.${z}`};return(n,s)=>(m(),u(M,null,[t("div",rt,[t("div",ct,[i(E,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[e(v)?(m(),u("div",mt,[t("div",ut,[t("div",gt,[t("div",xt,[i(e(Q),{class:"h-6 w-6 text-green-500","aria-hidden":"true"})]),pt,t("div",ft,[t("button",{type:"button",onClick:s[0]||(s[0]=a=>b(v)?v.value=!1:v=!1),class:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2"},[ht,i(e(C),{class:"h-5 w-5","aria-hidden":"true"})])])])])])):V("",!0)]),_:1})])]),t("div",_t,[t("div",vt,[i(E,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[e(_)?(m(),u("div",yt,[t("div",wt,[t("div",bt,[t("div",$t,[i(e(F),{class:"h-6 w-6 text-orange-500","aria-hidden":"true"})]),kt,t("div",Tt,[t("button",{type:"button",onClick:s[1]||(s[1]=a=>b(_)?_.value=!1:_=!1),class:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2"},[Ct,i(e(C),{class:"h-5 w-5","aria-hidden":"true"})])])])])])):V("",!0)]),_:1})])]),t("div",Dt,[t("div",St,[i(E,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[e(p)?(m(),u("div",zt,[t("div",Vt,[t("div",At,[t("div",Lt,[i(e(C),{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),Ut,t("div",Et,[t("button",{type:"button",onClick:s[2]||(s[2]=a=>b(p)?p.value=!1:p=!1),class:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2"},[Ht,i(e(C),{class:"h-5 w-5","aria-hidden":"true"})])])])])])):V("",!0)]),_:1})])]),i(e(at),{as:"template",show:e(x)},{default:h(()=>[i(e(tt),{as:"div",class:"relative z-10",onClose:s[4]||(s[4]=a=>b(x)?x.value=!0:x=!0)},{default:h(()=>[i(e(W),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:h(()=>[Nt]),_:1}),t("div",jt,[t("div",Bt,[i(e(W),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:h(()=>[i(e(et),{class:"relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:h(()=>[t("div",Ft,[t("div",Mt,[i(e(F),{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),t("div",It,[i(e(st),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:h(()=>[Pt]),_:1}),Rt])]),t("div",Jt,[t("button",{type:"button",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",onClick:B}," L\xF6schen "),t("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm",onClick:s[3]||(s[3]=a=>b(x)?x.value=!1:x=!1),ref:"cancelButtonRef"}," Cancel ",512)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),t("div",null,[t("div",Kt,[t("div",Wt,[t("div",Gt,[t("div",Ot,[e(g)?(m(),u("div",we,[t("div",be,[$e,t("div",ke,[t("button",{onClick:s[7]||(s[7]=a=>b(g)?g.value=!1:g=!1),type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-gray-400 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-gray-500 focus:outline-none"}," Cancle ")])]),t("div",Te,[t("dl",Ce,[t("div",De,[Se,t("dd",ze,[t("div",Ve,[G(t("input",{type:"text",name:"titel",id:"titel","onUpdate:modelValue":s[8]||(s[8]=a=>e(o).titel=a),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500 sm:text-sm"},null,512),[[O,e(o).titel]])])])]),t("div",Ae,[Le,t("dd",Ue,[t("div",Ee,[i(e(j),{id:"date",modelValue:e(o).datum,"onUpdate:modelValue":s[9]||(s[9]=a=>e(o).datum=a),"format-locale":e(lt),format:k},null,8,["modelValue","format-locale"])])])]),t("div",He,[Ne,t("dd",je,[t("div",Be,[i(e(j),{modelValue:e(o).treffpunkt,"onUpdate:modelValue":s[10]||(s[10]=a=>e(o).treffpunkt=a),timePicker:"","model-type":"timestamp"},null,8,["modelValue"])])])]),t("div",Fe,[Me,t("dd",Ie,[t("div",Pe,[i(e(j),{modelValue:e(o).start,"onUpdate:modelValue":s[11]||(s[11]=a=>e(o).start=a),timePicker:"","model-type":"timestamp"},null,8,["modelValue"])])])]),t("div",Re,[Je,t("dd",Ke,[t("div",We,[i(e(j),{modelValue:e(o).ende,"onUpdate:modelValue":s[12]||(s[12]=a=>e(o).ende=a),timePicker:"","model-type":"timestamp"},null,8,["modelValue"])])])]),t("div",Ge,[Oe,t("dd",Ye,[t("div",qe,[G(t("input",{type:"text",name:"halle",id:"halle","onUpdate:modelValue":s[13]||(s[13]=a=>e(o).halle=a),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-lime-500 focus:ring-lime-500 sm:text-sm"},null,512),[[O,e(o).halle]])])])])])]),t("div",{class:"flex justify-end mx-6 my-4"},[t("button",{onClick:H,type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-lime-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-lime-600 focus:outline-none"}," Save ")])])):(m(),u("div",Yt,[t("div",qt,[Qt,t("div",Xt,[t("button",{onClick:s[5]||(s[5]=a=>b(g)?g.value=!0:g=!0),type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-lime-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-lime-600 focus:outline-none"},[i(e(nt),{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),Zt]),t("button",{onClick:s[6]||(s[6]=a=>b(x)?x.value=!0:x=!0),type:"button",class:"ml-2 inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none"},[i(e(it),{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),te])])]),t("div",ee,[t("dl",se,[t("div",ae,[ne,t("dd",ie,r(d.value.titel),1)]),t("div",le,[oe,t("dd",de,r(e(N)),1)]),t("div",re,[ce,t("dd",me,r(d.value.trainingtreffpunkt),1)]),t("div",ue,[ge,t("dd",xe,r(d.value.trainingbeginn),1)]),t("div",pe,[fe,t("dd",he,r(d.value.trainingende),1)]),t("div",_e,[ve,t("dd",ye,r(d.value.wo),1)])])])]))])])])]),t("div",Qe,[t("div",null,[Xe,t("dl",Ze,[t("div",ts,[es,t("dd",ss,r(e(f)),1)]),t("div",as,[ns,t("dd",is,r(e(y))+"% ",1)]),t("div",ls,[os,t("dd",ds,r(e(w)),1)])])])]),t("div",rs,[cs,t("div",ms,[t("div",us,[t("div",gs,[t("div",xs,[t("table",ps,[fs,t("tbody",hs,[(m(!0),u(M,null,ot(l.value,(a,z)=>(m(),u("tr",{key:z},[t("td",_s,[t("div",vs,[t("div",ys,[t("img",{class:"h-10 w-10 rounded-full",src:a.avatarpath,alt:""},null,8,ws)]),t("div",bs,[t("div",$s,r(a.vorname)+" "+r(a.nachname),1),t("div",ks,r(a.email),1)])])]),t("td",Ts,[a.kommt?(m(),u("span",{key:0,onClick:L=>A(!1,a.s_id),class:"cursor-pointer inline-flex rounded-full bg-green-500 px-2 text-xs font-semibold leading-5 text-white"},"Ja",8,Cs)):(m(),u("span",{key:1,onClick:L=>A(!0,a.s_id),class:"cursor-pointer inline-flex rounded-full bg-red-600 px-2 text-xs font-semibold leading-5 text-white"},"Nein",8,Ds))])]))),128))])])])])])])])])],64))}},zs={"aria-live":"assertive",class:"z-40 pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:items-start sm:p-6"},Vs={class:"flex w-full flex-col items-center space-y-4 sm:items-end"},As={key:0,class:"pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"},Ls={class:"p-4"},Us={class:"flex items-start"},Es={class:"flex-shrink-0"},Hs=t("div",{class:"ml-3 w-0 flex-1 pt-0.5"},[t("p",{class:"text-sm font-medium text-gray-900"},"Achtung"),t("p",{class:"mt-1 text-sm text-gray-500"}," Du kannst deine Anwesenheit nicht \xE4ndern, das Training hat schon begonnen ")],-1),Ns={class:"ml-4 flex flex-shrink-0"},js=t("span",{class:"sr-only"},"Close",-1),Bs={"aria-live":"assertive",class:"z-40 pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:items-start sm:p-6"},Fs={class:"flex w-full flex-col items-center space-y-4 sm:items-end"},Ms={key:0,class:"pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"},Is={class:"p-4"},Ps={class:"flex items-start"},Rs={class:"flex-shrink-0"},Js=t("div",{class:"ml-3 w-0 flex-1 pt-0.5"},[t("p",{class:"text-sm font-medium text-gray-900"},"Fehler"),t("p",{class:"mt-1 text-sm text-gray-500"}," Es gab leider einen Fehler beim \xE4ndern der Anwesenheit. ")],-1),Ks={class:"ml-4 flex flex-shrink-0"},Ws=t("span",{class:"sr-only"},"Close",-1),Gs={class:"mx-auto max-w-screen-xl px-4 pb-6 sm:px-6 lg:px-8 lg:pb-16 mt-5"},Os={class:"overflow-hidden rounded-lg bg-white"},Ys={class:"divide-y divide-gray-200 lg:grid lg:grid-cols-12 lg:divide-y-0 lg:divide-x"},qs={class:"divide-y divide-gray-200 lg:col-span-12 flex flex-col justify-center"},Qs={class:"overflow-hidden bg-white shadow sm:rounded-lg col-span-full mx-3 my-3"},Xs=t("div",{class:"px-4 py-5 sm:px-6"},[t("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Trainings Info Spieler"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Hier siehst du alle Informationen zu diesem Training ")],-1),Zs={class:"border-t border-gray-200 px-4 py-5 sm:p-0"},ta={class:"sm:divide-y sm:divide-gray-200"},ea={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},sa=t("dt",{class:"text-sm font-medium text-gray-500"},"Titel",-1),aa={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},na={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},ia=t("dt",{class:"text-sm font-medium text-gray-500"},"Datum",-1),la={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},oa={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},da=t("dt",{class:"text-sm font-medium text-gray-500"},"Treffpunkt:",-1),ra={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ca={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},ma=t("dt",{class:"text-sm font-medium text-gray-500"},"Start:",-1),ua={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ga={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},xa=t("dt",{class:"text-sm font-medium text-gray-500"},"Ende:",-1),pa={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},fa={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},ha=t("dt",{class:"text-sm font-medium text-gray-500"},"Halle:",-1),_a={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},va={class:"flex justify-center"},ya={role:"list",class:"grid grid-cols-2 gap-6 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 shadow-xl"},wa={class:"col-span-2 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center shadow"},ba=t("div",{class:"flex flex-1 flex-col p-8"},[t("h3",{class:"mt-6 text-sm font-medium text-gray-900"},"Kommst du zu diesem Training?")],-1),$a={key:0,class:"-mt-px flex divide-x divide-gray-200"},ka={class:"flex w-0 flex-1"},Ta=t("span",{class:"ml-3 text-white"},"Ja",-1),Ca={key:1,class:"-mt-px flex divide-x divide-gray-200"},Da={class:"flex w-0 flex-1"},Sa=t("span",{class:"ml-3 text-white"},"Nein",-1),za={setup(R){const D=I(),$=X(),d=D.currentRoute.value.params.id,l=c({}),_=c([]);let p=c(!0),v=c({}),S=c(!1),g=c(!1),x=c(!1),o=c("00:00 Uhr"),A=c("00:00 Uhr"),H=c("00:00 Uhr");q(async()=>{const{data:f}=await T.get(`/getTrainingDetail/${d}`);l.value=f[0],o.value=`${l.value.trainingtreffpunkt.split(":")[0]}:${l.value.trainingtreffpunkt.split(":")[1]} Uhr`,A.value=`${l.value.trainingbeginn.split(":")[0]}:${l.value.trainingbeginn.split(":")[1]} Uhr`,H.value=`${l.value.trainingende.split(":")[0]}:${l.value.trainingende.split(":")[1]} Uhr`,console.log(l.value);const{data:y}=await T.get(`/getTrainingDetailSpieler/${d}`);_.value=y,v.value=_.value.find(n=>$.getAktivenUser.data.s_id==n.s_id),p.value=v.value.kommt;let w=new Date,k=new Date(l.value.trainingdatum.split("-")[0],l.value.trainingdatum.split("-")[1]-1,Number(l.value.trainingdatum.split("-")[2].substring(0,2))+1,l.value.trainingtreffpunkt.split(":")[0],l.value.trainingtreffpunkt.split(":")[1],l.value.trainingtreffpunkt.split(":")[2]);console.log(`Jetzt: ${w.toDateString()} ${w.getHours()}:${w.getMinutes()}`),console.log(`Training: ${k.toDateString()} ${k.getHours()}:${k.getMinutes()}`),w<k?(console.log("\xC4ndern ok"),S.value=!0):(console.log("\xC4ndern nicht ok"),S.value=!1)});const B=U(()=>{let f=new Date(l.value.trainingdatum),y=f.getDate(),w=f.toLocaleString("de-de",{weekday:"long"}),k=f.toLocaleString("de-de",{month:"long"}),n=f.toLocaleString("de-de",{year:"numeric"});return`${w}, ${y}. ${k} ${n}`});async function N(){if(S.value){p.value?p.value=!1:p.value=!0,console.log(p.value);try{await T.patch(`/changeSpielerKommt/${v.value.s_id}`,{kommt:p.value,train_id:d})}catch(f){f.value=!0,setTimeout(()=>f.value=!1,3e3),console.log(f)}}else g.value=!0,setTimeout(()=>g.value=!1,3e3),console.log("Darf nicht \xE4ndern, das Training hat schon begonnen")}return(f,y)=>(m(),u(M,null,[t("div",zs,[t("div",Vs,[i(E,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[e(g)?(m(),u("div",As,[t("div",Ls,[t("div",Us,[t("div",Es,[i(e(F),{class:"h-6 w-6 text-orange-500","aria-hidden":"true"})]),Hs,t("div",Ns,[t("button",{type:"button",onClick:y[0]||(y[0]=w=>b(g)?g.value=!1:g=!1),class:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2"},[js,i(e(C),{class:"h-5 w-5","aria-hidden":"true"})])])])])])):V("",!0)]),_:1})])]),t("div",Bs,[t("div",Fs,[i(E,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[e(x)?(m(),u("div",Ms,[t("div",Is,[t("div",Ps,[t("div",Rs,[i(e(C),{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),Js,t("div",Ks,[t("button",{type:"button",onClick:y[1]||(y[1]=w=>b(x)?x.value=!1:x=!1),class:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2"},[Ws,i(e(C),{class:"h-5 w-5","aria-hidden":"true"})])])])])])):V("",!0)]),_:1})])]),t("div",Gs,[t("div",Os,[t("div",Ys,[t("div",qs,[t("div",Qs,[Xs,t("div",Zs,[t("dl",ta,[t("div",ea,[sa,t("dd",aa,r(l.value.titel),1)]),t("div",na,[ia,t("dd",la,r(e(B)),1)]),t("div",oa,[da,t("dd",ra,r(e(o)),1)]),t("div",ca,[ma,t("dd",ua,r(e(A)),1)]),t("div",ga,[xa,t("dd",pa,r(e(H)),1)]),t("div",fa,[ha,t("dd",_a,r(l.value.wo),1)])])])])])])])]),t("div",va,[t("ul",ya,[t("li",wa,[ba,t("div",null,[e(p)?(m(),u("div",$a,[t("div",ka,[t("p",{onClick:N,class:"cursor-pointer relative -mr-px inline-flex w-0 flex-1 items-center justify-center rounded-b-lg border border-transparent py-4 text-sm font-medium bg-green-500"},[i(e(Q),{class:"h-5 w-5 text-white","aria-hidden":"true"}),Ta])])])):V("",!0),e(p)?V("",!0):(m(),u("div",Ca,[t("div",Da,[t("p",{onClick:N,class:"cursor-pointer relative -mr-px inline-flex w-0 flex-1 items-center justify-center rounded-b-lg border border-transparent py-4 text-sm font-medium bg-red-600"},[i(e(C),{class:"h-5 w-5 text-white","aria-hidden":"true"}),Sa])])]))])])])])],64))}},Va={class:"bg-lime-500 relative z-10"},Aa={class:"mx-auto max-w-7xl px-2 sm:px-4 lg:px-8"},La=t("p",{class:"text-black text-lg ml-2"},"Back",-1),Ha={setup(R){const D=I(),$=X();return D.currentRoute.value.params.id,(d,l)=>(m(),u("div",null,[t("nav",Va,[t("div",Aa,[t("div",{class:"relative flex h-16 items-center",onClick:l[0]||(l[0]=_=>e(D).go("-1"))},[i(e(dt),{class:"w-10 h-10 text-black"}),La])])]),e($).getAktivenUser.type=="Trainer"?(m(),Y(Ss,{key:0})):(m(),Y(za,{key:1}))]))}};export{Ha as default};
